â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                  CLAUDE CODE QUICK REFERENCE CARD                             â•‘
â•‘                  Network Device Upgrade System                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ YOUR DOCUMENTS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
CLAUDE.md                    â†’ Complete standards and requirements
CLAUDE_WORKING_GUIDE.md      â†’ THIS IS YOUR DAILY REFERENCE â­
docs/internal/               â†’ Technical reference docs

âš¡ TASK DECISION MATRIX
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Simple (1-2 files)           â†’ Just do it â†’ test â†’ commit
Medium (3-10 files)          â†’ Create todo list â†’ systematic approach
Complex (10+ files/phases)   â†’ Use parallel agents â†’ phase-by-phase
Uncertain scope              â†’ Start with 4-phase analysis checklist

ğŸ” WHEN YOU NEED TO ANALYZE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Phase 1: Inventory all files       (glob patterns, multiple search methods)
Phase 2: Analyze each file         (map to purpose, note issues)
Phase 3: Cross-verify findings     (multiple search tools, 100% check)
Phase 4: Document search patterns  (report what you found & how)

âš¡ SPEED UP WITH PARALLEL AGENTS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Agent 1 (Explore)     â†’ Find all files, create inventory
Agent 2 (general)     â†’ Read and analyze for accuracy
Agent 3 (Explore)     â†’ Verify links, cross-check findings
Result: 3x faster (30 min â†’ 10 min)

ğŸ¯ NETWORK VALIDATION TEMPLATE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Initialize: comparison_status: NOT_RUN (once, at start)
2. Main block: all validation logic
3. Data blocks: normalize â†’ compare (diff()) â†’ report (inside block)
4. Set status: comparison_status: PASS/FAIL (once, at end)

KEY RULES:
  â€¢ Empty data: returns empty (no complex conditionals)
  â€¢ Reporting: put INSIDE data blocks, not after
  â€¢ Status: set ONCE at start, ONCE at end (never in middle)

âœ… PRE-COMMIT CHECKLIST
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â–¡ All tests pass (./tests/run-all-tests.sh â†’ Passed: 22, Failed: 0)
â–¡ Syntax valid (with required extra_vars for playbooks)
â–¡ Linting clean (ansible-lint, yamllint â†’ 0 errors)
â–¡ Changes consistent (found ALL instances, not just obvious)
â–¡ Documentation updated (matches code changes)
â–¡ Tests updated (reflect new/modified behavior)

ğŸš« COMMON MISTAKES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Empty data handling â†’ Don't create conditions for empty data
2. Reporting location â†’ Move inside blocks, not after
3. Status management â†’ Set once at start, once at end
4. Inconsistency â†’ Check ALL similar tasks, make consistent
5. Incomplete analysis â†’ Use multiple search methods, state 100% coverage

ğŸ” SEARCH PATTERNS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Find all files of type:
  glob: "docs/**/*.md"            â†’ All markdown
  glob: "**/*.yml"                â†’ All YAML
  glob: "**/defaults/main.yml"    â†’ All defaults

Search content:
  grep: "pattern"                 â†’ Simple search
  grep: "when: bgp_enabled"       â†’ Conditionals
  grep: "| default()"             â†’ Bad patterns

Verify findings (use ALL three):
  1. glob pattern matching
  2. grep/ripgrep content search
  3. Manual review of key sections

ğŸƒ QUICK WORKFLOWS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Bug Fix (single issue):
  find instances â†’ fix everywhere â†’ test â†’ commit

Audit (28+ files):
  4-phase methodology OR 3-agent parallel (3x faster)

Network Validation Task:
  create â†’ fill structure (init/block/data-blocks/status) â†’ test â†’ commit

Refactoring (multiple files):
  understand pattern â†’ find all instances â†’ fix consistently â†’ verify

â“ WHEN YOU'RE UNSURE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
"Am I done analyzing?"
  â–¡ Multiple search methods used?
  â–¡ Total count of files stated?
  â–¡ Search patterns documented?
  â–¡ Could more instances exist?
  â†’ If ANY unchecked: keep searching

"Is this consistent?"
  â–¡ Found ALL similar patterns?
  â–¡ Applied change everywhere?
  â–¡ Checked all roles, tasks, plays?
  â–¡ No exceptions/edge cases?
  â†’ If ANY unchecked: search more

"Tests really passing?"
  â–¡ Full suite run (not subset)?
  â–¡ Exit code 0?
  â–¡ "Passed: 22" exactly?
  â–¡ No failures hidden?
  â†’ Always show exact output

ğŸ“‹ COMMAND REFERENCE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Run all tests
./tests/run-all-tests.sh

# Syntax check (ALWAYS with extra_vars)
ansible-playbook --syntax-check ansible-content/playbooks/main-upgrade-workflow.yml \
  --extra-vars="target_hosts=localhost target_firmware=test.bin maintenance_window=true max_concurrent=1"

# Linting
ansible-lint ansible-content/ --offline --parseable-severity
yamllint ansible-content/

# Git operations
git status                  # See what changed
git add <file>             # Stage specific file
git commit -m "message"    # Commit with message
git push origin branch     # Push to remote

ğŸ“š DOCUMENT NAVIGATION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
For daily work, specific task:
  â†’ CLAUDE_WORKING_GUIDE.md (10 sections, examples, matrices)

For detailed standards, requirements:
  â†’ CLAUDE.md (complete guidance, all quality standards)

For validation data types, patterns:
  â†’ docs/internal/network-validation-data-types.md

For implementation details:
  â†’ Role-specific files in ansible-content/

ğŸ¯ NEXT TASK CHECKLIST
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â–¡ Read "When Starting Any Task" in CLAUDE_WORKING_GUIDE.md
â–¡ Identify task type (simple/medium/complex/uncertain)
â–¡ Choose approach from appropriate section
â–¡ Create todo list (if medium/complex)
â–¡ Run baseline tests
â–¡ Follow workflow steps
â–¡ Pre-commit checklist before pushing
â–¡ Commit with clear message
â–¡ Push to remote

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

KEY PRINCIPLES TO REMEMBER:
  âœ“ Completeness over speed (100% coverage required)
  âœ“ Document what you searched (search patterns matter)
  âœ“ Consistency across codebase (no exceptions)
  âœ“ Tests MUST pass (never commit with failing tests)
  âœ“ Quality first (no shortcuts, no compromises)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
